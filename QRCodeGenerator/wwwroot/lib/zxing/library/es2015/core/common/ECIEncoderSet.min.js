/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/common/ECIEncoderSet.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Charset from"../util/Charset";import StandardCharsets from"../util/StandardCharsets";import StringEncoding from"../util/StringEncoding";import StringUtils from"./StringUtils";class CharsetEncoder{constructor(e){this.charset=e,this.name=e.name}canEncode(e){try{return null!=StringEncoding.encode(e,this.charset)}catch(e){return!1}}}export class ECIEncoderSet{constructor(e,t,r){this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map((e=>new CharsetEncoder(Charset.forName(e)))),this.encoders=[];const n=[];n.push(new CharsetEncoder(StandardCharsets.ISO_8859_1));let s=null!=t&&t.name.startsWith("UTF");for(let t=0;t<e.length;t++){let o=!1;for(const s of n){const n=e.charAt(t);if(n.charCodeAt(0)===r||s.canEncode(n)){o=!0;break}}if(!o)for(const r of this.ENCODERS)if(r.canEncode(e.charAt(t))){n.push(r),o=!0;break}o||(s=!0)}if(1!==n.length||s){this.encoders=[];let e=0;for(const t of n)this.encoders[e++]=t}else this.encoders=[n[0]];let o=-1;if(null!=t)for(let e=0;e<this.encoders.length;e++)if(null!=this.encoders[e]&&t.name===this.encoders[e].name){o=e;break}this.priorityEncoderIndex=o}length(){return this.encoders.length}getCharsetName(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name}getCharset(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset}getECIValue(e){return this.encoders[e].charset.getValueIdentifier()}getPriorityEncoderIndex(){return this.priorityEncoderIndex}canEncode(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0}encode(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return StringEncoding.encode(StringUtils.getCharAt(e),this.encoders[t].name)}}
//# sourceMappingURL=/sm/915b87ce7a8b37378fbbd1bd3d089aa6b47175edf6ebfed051e20ab447e2a5c7.map