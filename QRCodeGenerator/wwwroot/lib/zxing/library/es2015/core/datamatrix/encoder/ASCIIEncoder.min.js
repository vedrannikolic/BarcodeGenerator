/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/datamatrix/encoder/ASCIIEncoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{ASCII_ENCODATION,BASE256_ENCODATION,C40_ENCODATION,EDIFACT_ENCODATION,LATCH_TO_ANSIX12,LATCH_TO_BASE256,LATCH_TO_C40,LATCH_TO_EDIFACT,LATCH_TO_TEXT,TEXT_ENCODATION,UPPER_SHIFT,X12_ENCODATION}from"./constants";import HighLevelEncoder from"./HighLevelEncoder";export class ASCIIEncoder{getEncodingMode(){return ASCII_ENCODATION}encode(e){if(HighLevelEncoder.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{const o=e.getCurrentChar(),C=HighLevelEncoder.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(C!==this.getEncodingMode())switch(C){case BASE256_ENCODATION:return e.writeCodeword(LATCH_TO_BASE256),void e.signalEncoderChange(BASE256_ENCODATION);case C40_ENCODATION:return e.writeCodeword(LATCH_TO_C40),void e.signalEncoderChange(C40_ENCODATION);case X12_ENCODATION:e.writeCodeword(LATCH_TO_ANSIX12),e.signalEncoderChange(X12_ENCODATION);break;case TEXT_ENCODATION:e.writeCodeword(LATCH_TO_TEXT),e.signalEncoderChange(TEXT_ENCODATION);break;case EDIFACT_ENCODATION:e.writeCodeword(LATCH_TO_EDIFACT),e.signalEncoderChange(EDIFACT_ENCODATION);break;default:throw new Error("Illegal mode: "+C)}else HighLevelEncoder.isExtendedASCII(o)?(e.writeCodeword(UPPER_SHIFT),e.writeCodeword(o-128+1),e.pos++):(e.writeCodeword(o+1),e.pos++)}}encodeASCIIDigits(e,o){if(HighLevelEncoder.isDigit(e)&&HighLevelEncoder.isDigit(o)){return 10*(e-48)+(o-48)+130}throw new Error("not digits: "+e+o)}}
//# sourceMappingURL=/sm/34af92d4fa88e335fc981477d1580dd368d5e99589934a109bdd24ae0187a8f8.map