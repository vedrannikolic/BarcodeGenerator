/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/datamatrix/encoder/X12Encoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import StringUtils from"../../common/StringUtils";import StringBuilder from"../../util/StringBuilder";import{C40Encoder}from"./C40Encoder";import HighLevelEncoder from"./HighLevelEncoder";import{X12_ENCODATION,ASCII_ENCODATION,X12_UNLATCH}from"./constants";export class X12Encoder extends C40Encoder{getEncodingMode(){return X12_ENCODATION}encode(e){const r=new StringBuilder;for(;e.hasMoreCharacters();){const t=e.getCurrentChar();e.pos++,this.encodeChar(t,r);if(r.length()%3==0){this.writeNextTriplet(e,r);if(HighLevelEncoder.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(ASCII_ENCODATION);break}}}this.handleEOD(e,r)}encodeChar(e,r){switch(e){case 13:r.append(0);break;case"*".charCodeAt(0):r.append(1);break;case">".charCodeAt(0):r.append(2);break;case" ".charCodeAt(0):r.append(3);break;default:e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?r.append(e-48+4):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?r.append(e-65+14):HighLevelEncoder.illegalCharacter(StringUtils.getCharAt(e))}return 1}handleEOD(e,r){e.updateSymbolInfo();const t=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=r.length();e.pos-=o,(e.getRemainingCharacters()>1||t>1||e.getRemainingCharacters()!==t)&&e.writeCodeword(X12_UNLATCH),e.getNewEncoding()<0&&e.signalEncoderChange(ASCII_ENCODATION)}}
//# sourceMappingURL=/sm/a02206724cdee67e36bfdffc820a0059098cab6fb10fad5df217609103349fcf.map