/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/datamatrix/encoder/Base256Encoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import StringUtils from"../../common/StringUtils";import StringBuilder from"../../util/StringBuilder";import HighLevelEncoder from"./HighLevelEncoder";import{BASE256_ENCODATION,ASCII_ENCODATION}from"./constants";export class Base256Encoder{getEncodingMode(){return BASE256_ENCODATION}encode(t){const e=new StringBuilder;for(e.append(0);t.hasMoreCharacters();){const r=t.getCurrentChar();e.append(r),t.pos++;if(HighLevelEncoder.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(ASCII_ENCODATION);break}}const r=e.length()-1,o=t.getCodewordCount()+r+1;t.updateSymbolInfo(o);const n=t.getSymbolInfo().getDataCapacity()-o>0;if(t.hasMoreCharacters()||n)if(r<=249)e.setCharAt(0,StringUtils.getCharAt(r));else{if(!(r<=1555))throw new Error("Message length not in valid ranges: "+r);e.setCharAt(0,StringUtils.getCharAt(Math.floor(r/250)+249)),e.insert(1,StringUtils.getCharAt(r%250))}for(let r=0,o=e.length();r<o;r++)t.writeCodeword(this.randomize255State(e.charAt(r).charCodeAt(0),t.getCodewordCount()+1))}randomize255State(t,e){const r=t+(149*e%255+1);return r<=255?r:r-256}}
//# sourceMappingURL=/sm/35b1ecbf294b0f62d665efd418d36d389a304410b68b4dcd6cb66ddf05c176a8.map