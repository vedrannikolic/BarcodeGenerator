/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/RGBLuminanceSource.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"./InvertedLuminanceSource";import InvertedLuminanceSource from"./InvertedLuminanceSource";import LuminanceSource from"./LuminanceSource";import System from"./util/System";import IllegalArgumentException from"./IllegalArgumentException";export default class RGBLuminanceSource extends LuminanceSource{constructor(t,e,i,n,a,r,s){if(super(e,i),this.dataWidth=n,this.dataHeight=a,this.left=r,this.top=s,4===t.BYTES_PER_ELEMENT){const n=e*i,a=new Uint8ClampedArray(n);for(let e=0;e<n;e++){const i=t[e],n=i>>16&255,r=i>>7&510,s=255&i;a[e]=(n+r+s)/4&255}this.luminances=a}else this.luminances=t;if(void 0===n&&(this.dataWidth=e),void 0===a&&(this.dataHeight=i),void 0===r&&(this.left=0),void 0===s&&(this.top=0),this.left+e>this.dataWidth||this.top+i>this.dataHeight)throw new IllegalArgumentException("Crop rectangle does not fit within image data.")}getRow(t,e){if(t<0||t>=this.getHeight())throw new IllegalArgumentException("Requested row is outside the image: "+t);const i=this.getWidth();(null==e||e.length<i)&&(e=new Uint8ClampedArray(i));const n=(t+this.top)*this.dataWidth+this.left;return System.arraycopy(this.luminances,n,e,0,i),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;const i=t*e,n=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return System.arraycopy(this.luminances,a,n,0,i),n;for(let i=0;i<e;i++){const e=i*t;System.arraycopy(this.luminances,a,n,e,t),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(t,e,i,n){return new RGBLuminanceSource(this.luminances,i,n,this.dataWidth,this.dataHeight,this.left+t,this.top+e)}invert(){return new InvertedLuminanceSource(this)}}
//# sourceMappingURL=/sm/b59cb68ae7c212b945cf5c8ec7388fde9f9c019a62c414cf842ccd1c20e46565.map