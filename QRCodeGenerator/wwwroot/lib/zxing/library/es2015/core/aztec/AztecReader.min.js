/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/aztec/AztecReader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Result from"../Result";import BarcodeFormat from"../BarcodeFormat";import DecodeHintType from"../DecodeHintType";import ResultMetadataType from"../ResultMetadataType";import System from"../util/System";import Decoder from"./decoder/Decoder";import Detector from"./detector/Detector";export default class AztecReader{decode(e,t=null){let o=null,r=new Detector(e.getBlackMatrix()),l=null,a=null;try{let e=r.detectMirror(!1);l=e.getPoints(),this.reportFoundResultPoints(t,l),a=(new Decoder).decode(e)}catch(e){o=e}if(null==a)try{let e=r.detectMirror(!0);l=e.getPoints(),this.reportFoundResultPoints(t,l),a=(new Decoder).decode(e)}catch(e){if(null!=o)throw o;throw e}let d=new Result(a.getText(),a.getRawBytes(),a.getNumBits(),l,BarcodeFormat.AZTEC,System.currentTimeMillis()),u=a.getByteSegments();null!=u&&d.putMetadata(ResultMetadataType.BYTE_SEGMENTS,u);let i=a.getECLevel();return null!=i&&d.putMetadata(ResultMetadataType.ERROR_CORRECTION_LEVEL,i),d}reportFoundResultPoints(e,t){if(null!=e){let o=e.get(DecodeHintType.NEED_RESULT_POINT_CALLBACK);null!=o&&t.forEach(((e,t,r)=>{o.foundPossibleResultPoint(e)}))}}reset(){}}
//# sourceMappingURL=/sm/d0fcfd7074f4f65ddf4a025b8aa305ca3c01bec586a902a63cbe270ad8bee9bc.map