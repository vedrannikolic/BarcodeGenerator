/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/PlanarYUVLuminanceSource.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import System from"./util/System";import LuminanceSource from"./LuminanceSource";import InvertedLuminanceSource from"./InvertedLuminanceSource";import IllegalArgumentException from"./IllegalArgumentException";export default class PlanarYUVLuminanceSource extends LuminanceSource{constructor(t,e,i,a,r,n,h,s){if(super(n,h),this.yuvData=t,this.dataWidth=e,this.dataHeight=i,this.left=a,this.top=r,a+n>e||r+h>i)throw new IllegalArgumentException("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(n,h)}getRow(t,e){if(t<0||t>=this.getHeight())throw new IllegalArgumentException("Requested row is outside the image: "+t);const i=this.getWidth();(null==e||e.length<i)&&(e=new Uint8ClampedArray(i));const a=(t+this.top)*this.dataWidth+this.left;return System.arraycopy(this.yuvData,a,e,0,i),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;const i=t*e,a=new Uint8ClampedArray(i);let r=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return System.arraycopy(this.yuvData,r,a,0,i),a;for(let i=0;i<e;i++){const e=i*t;System.arraycopy(this.yuvData,r,a,e,t),r+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,e,i,a){return new PlanarYUVLuminanceSource(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+e,i,a,!1)}renderThumbnail(){const t=this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,e=this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*e),a=this.yuvData;let r=this.top*this.dataWidth+this.left;for(let n=0;n<e;n++){const e=n*t;for(let n=0;n<t;n++){const t=255&a[r+n*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR];i[e+n]=4278190080|65793*t}r+=this.dataWidth*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,e){const i=this.yuvData;for(let a=0,r=this.top*this.dataWidth+this.left;a<e;a++,r+=this.dataWidth){const e=r+t/2;for(let a=r,n=r+t-1;a<e;a++,n--){const t=i[a];i[a]=i[n],i[n]=t}}}invert(){return new InvertedLuminanceSource(this)}}PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR=2;
//# sourceMappingURL=/sm/99bc1008ac55566313f2e3f75846868550216e6c878b4a6e245200e82618a906.map