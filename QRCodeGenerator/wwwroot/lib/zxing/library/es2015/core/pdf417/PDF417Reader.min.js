/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/pdf417/PDF417Reader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import BarcodeFormat from"../BarcodeFormat";import ChecksumException from"../ChecksumException";import FormatException from"../FormatException";import NotFoundException from"../NotFoundException";import Result from"../Result";import PDF417Common from"./PDF417Common";import Integer from"../util/Integer";import ResultMetadataType from"../ResultMetadataType";import Detector from"./detector/Detector";import PDF417ScanningDecoder from"./decoder/PDF417ScanningDecoder";export default class PDF417Reader{decode(t,e=null){let o=PDF417Reader.decode(t,e,!1);if(null==o||0===o.length||null==o[0])throw NotFoundException.getNotFoundInstance();return o[0]}decodeMultiple(t,e=null){try{return PDF417Reader.decode(t,e,!0)}catch(t){if(t instanceof FormatException||t instanceof ChecksumException)throw NotFoundException.getNotFoundInstance();throw t}}static decode(t,e,o){const r=new Array,a=Detector.detectMultiple(t,e,o);for(const t of a.getPoints()){const e=PDF417ScanningDecoder.decode(a.getBits(),t[4],t[5],t[6],t[7],PDF417Reader.getMinCodewordWidth(t),PDF417Reader.getMaxCodewordWidth(t)),o=new Result(e.getText(),e.getRawBytes(),void 0,t,BarcodeFormat.PDF_417);o.putMetadata(ResultMetadataType.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&o.putMetadata(ResultMetadataType.PDF417_EXTRA_METADATA,n),r.push(o)}return r.map((t=>t))}static getMaxWidth(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMinWidth(t,e){return null==t||null==e?Integer.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(PDF417Reader.getMaxWidth(t[0],t[4]),PDF417Reader.getMaxWidth(t[6],t[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.max(PDF417Reader.getMaxWidth(t[1],t[5]),PDF417Reader.getMaxWidth(t[7],t[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(PDF417Reader.getMinWidth(t[0],t[4]),PDF417Reader.getMinWidth(t[6],t[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.min(PDF417Reader.getMinWidth(t[1],t[5]),PDF417Reader.getMinWidth(t[7],t[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))}reset(){}}
//# sourceMappingURL=/sm/af3d317b60d7b4379a5d84b41e6f19fb71ee7572d9c0a8f35a90c6a88f90e658.map