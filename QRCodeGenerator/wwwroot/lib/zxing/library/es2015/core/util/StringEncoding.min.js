/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/core/util/StringEncoding.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import UnsupportedOperationException from"../UnsupportedOperationException";import CharacterSetECI from"../common/CharacterSetECI";export default class StringEncoding{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!StringEncoding.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof CharacterSetECI?e:CharacterSetECI.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(StringEncoding.isDecodeFallbackSupported(n)){let t="";for(let n=0,o=e.length;n<o;n++){let o=e[n].toString(16);o.length<2&&(o="0"+o),t+="%"+o}return decodeURIComponent(t)}if(n.equals(CharacterSetECI.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new UnsupportedOperationException(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(CharacterSetECI.UTF8)||e.equals(CharacterSetECI.ISO8859_1)||e.equals(CharacterSetECI.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let e=0;e<t.length;e++)n.push(t[e].charCodeAt(0));return new Uint8Array(n)}}
//# sourceMappingURL=/sm/974a23adb2687fc50238a3481f8070e967f43548ef07099c428a518fa16b4dac.map