/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/es2015/browser/BrowserSvgCodeWriter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EncodeHintType from"../core/EncodeHintType";import Encoder from"../core/qrcode/encoder/Encoder";import ErrorCorrectionLevel from"../core/qrcode/decoder/ErrorCorrectionLevel";import IllegalArgumentException from"../core/IllegalArgumentException";import IllegalStateException from"../core/IllegalStateException";class BrowserSvgCodeWriter{constructor(e){this.containerElement="string"==typeof e?document.getElementById(e):e}write(e,t,r,o=null){if(0===e.length)throw new IllegalArgumentException("Found empty contents");if(t<0||r<0)throw new IllegalArgumentException("Requested dimensions are too small: "+t+"x"+r);let n=o&&void 0!==o.get(EncodeHintType.MARGIN)?Number.parseInt(o.get(EncodeHintType.MARGIN).toString(),10):BrowserSvgCodeWriter.QUIET_ZONE_SIZE;const l=this.encode(o,e);return this.renderResult(l,t,r,n)}encode(e,t){let r=ErrorCorrectionLevel.L;e&&void 0!==e.get(EncodeHintType.ERROR_CORRECTION)&&(r=ErrorCorrectionLevel.fromString(e.get(EncodeHintType.ERROR_CORRECTION).toString()));return Encoder.encode(t,r,e)}renderResult(e,t,r,o){const n=e.getMatrix();if(null===n)throw new IllegalStateException;const l=n.getWidth(),i=n.getHeight(),c=l+2*o,g=i+2*o,d=Math.max(t,c),S=Math.max(r,g),s=Math.min(Math.floor(d/c),Math.floor(S/g)),a=Math.floor((d-l*s)/2),E=Math.floor((S-i*s)/2),u=this.createSVGElement(d,S),m=this.createSvgPathPlaceholderElement(t,r);u.append(m),this.containerElement.appendChild(u);for(let e=0,t=E;e<i;e++,t+=s)for(let r=0,o=a;r<l;r++,o+=s)if(1===n.get(r,e)){const e=this.createSvgRectElement(o,t,s,s);u.appendChild(e)}return u}createSVGElement(e,t){const r=document.createElementNS(BrowserSvgCodeWriter.SVG_NS,"svg");return r.setAttributeNS(null,"width",t.toString()),r.setAttributeNS(null,"height",e.toString()),r}createSvgPathPlaceholderElement(e,t){const r=document.createElementNS(BrowserSvgCodeWriter.SVG_NS,"path");return r.setAttributeNS(null,"d",`M0 0h${e}v${t}H0z`),r.setAttributeNS(null,"fill","none"),r}createSvgRectElement(e,t,r,o){const n=document.createElementNS(BrowserSvgCodeWriter.SVG_NS,"rect");return n.setAttributeNS(null,"x",e.toString()),n.setAttributeNS(null,"y",t.toString()),n.setAttributeNS(null,"height",r.toString()),n.setAttributeNS(null,"width",o.toString()),n.setAttributeNS(null,"fill","#000000"),n}}BrowserSvgCodeWriter.QUIET_ZONE_SIZE=4,BrowserSvgCodeWriter.SVG_NS="http://www.w3.org/2000/svg";export{BrowserSvgCodeWriter};
//# sourceMappingURL=/sm/d143ffce467ce1ecf6eb7ee3fd26e2397306772907eaaae621c4f7883ac68c30.map