/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/oned/UPCEANExtension2Support.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=require("../BarcodeFormat"),AbstractUPCEANReader_1=require("./AbstractUPCEANReader"),Result_1=require("../Result"),ResultPoint_1=require("../ResultPoint"),ResultMetadataType_1=require("../ResultMetadataType"),NotFoundException_1=require("../NotFoundException"),UPCEANExtension2Support=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,o){var n=this.decodeRowStringBuffer,a=this.decodeMiddle(r,o,n),i=n.toString(),u=e.parseExtensionString(i),d=[new ResultPoint_1.default((o[0]+o[1])/2,t),new ResultPoint_1.default(a,t)],l=new Result_1.default(i,null,0,d,BarcodeFormat_1.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=u&&l.putAllMetadata(u),l},e.prototype.decodeMiddle=function(e,t,r){var o,n,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=e.getSize(),u=t[1],d=0,l=0;l<2&&u<i;l++){var s=AbstractUPCEANReader_1.default.decodeDigit(e,a,u,AbstractUPCEANReader_1.default.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+s%10);try{for(var f=(o=void 0,__values(a)),c=f.next();!c.done;c=f.next()){u+=c.value}}catch(e){o={error:e}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(o)throw o.error}}s>=10&&(d|=1<<1-l),1!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(2!==r.length)throw new NotFoundException_1.default;if(parseInt(r.toString())%4!==d)throw new NotFoundException_1.default;return u},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[ResultMetadataType_1.default.ISSUE_NUMBER,parseInt(e)]])},e}();exports.default=UPCEANExtension2Support;
//# sourceMappingURL=/sm/1de5176efaa966a6a4d886767ac4ee71915dea7e39666025de65213d853124e5.map