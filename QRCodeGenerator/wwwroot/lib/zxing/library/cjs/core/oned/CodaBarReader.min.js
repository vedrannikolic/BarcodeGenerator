/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/oned/CodaBarReader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])},n(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=require("../BarcodeFormat"),NotFoundException_1=require("../NotFoundException"),OneDReader_1=require("./OneDReader"),Result_1=require("../Result"),ResultPoint_1=require("../ResultPoint"),CodaBarReader=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return __extends(t,n),t.prototype.decodeRow=function(n,t,e){var r=this.getValidRowData(t);if(!r)throw new NotFoundException_1.default;var o=this.codaBarDecodeRow(r.row);if(!o)throw new NotFoundException_1.default;return new Result_1.default(o,null,0,[new ResultPoint_1.default(r.left,n),new ResultPoint_1.default(r.right,n)],BarcodeFormat_1.default.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(n){var t=n.toArray(),e=t.indexOf(!0);if(-1===e)return null;var r=t.lastIndexOf(!0);if(r<=e)return null;for(var o=[],w=(t=t.slice(e,r+1))[0],u=1,a=1;a<t.length;a++)t[a]===w?u++:(w=t[a],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!=0?null:{row:o,left:e,right:r}},t.prototype.codaBarDecodeRow=function(n){for(var t=[],e=Math.ceil(n.reduce((function(n,t){return(n+t)/2}),0));n.length>0;){var r=n.splice(0,8).splice(0,7).map((function(n){return n<e?"n":"w"})).join("");if(void 0===this.CODA_BAR_CHAR_SET[r])return null;t.push(this.CODA_BAR_CHAR_SET[r])}var o=t.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(n){return/^[A-D].{1,}[A-D]$/.test(n)},t}(OneDReader_1.default);exports.default=CodaBarReader;
//# sourceMappingURL=/sm/029fe4007cdac6ee3623872afc10a62993ae569ac41aac987fc558ce116bc50c.map