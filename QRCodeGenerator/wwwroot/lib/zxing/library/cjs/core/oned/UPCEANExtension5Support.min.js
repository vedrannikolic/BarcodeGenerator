/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/oned/UPCEANExtension5Support.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=require("../BarcodeFormat"),AbstractUPCEANReader_1=require("./AbstractUPCEANReader"),Result_1=require("../Result"),ResultPoint_1=require("../ResultPoint"),ResultMetadataType_1=require("../ResultMetadataType"),NotFoundException_1=require("../NotFoundException"),UPCEANExtension5Support=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,o),i=o.toString(),u=e.parseExtensionString(i),d=[new ResultPoint_1.default((n[0]+n[1])/2,t),new ResultPoint_1.default(a,t)],l=new Result_1.default(i,null,0,d,BarcodeFormat_1.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=u&&l.putAllMetadata(u),l},e.prototype.decodeMiddle=function(t,r,n){var o,a,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var u=t.getSize(),d=r[1],l=0,s=0;s<5&&d<u;s++){var c=AbstractUPCEANReader_1.default.decodeDigit(t,i,d,AbstractUPCEANReader_1.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);try{for(var f=(o=void 0,__values(i)),h=f.next();!h.done;h=f.next()){d+=h.value}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}c>=10&&(l|=1<<4-s),4!==s&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(5!==n.length)throw new NotFoundException_1.default;var _=this.determineCheckDigit(l);if(e.extensionChecksum(n.toString())!==_)throw new NotFoundException_1.default;return d},e.extensionChecksum=function(e){for(var t=e.length,r=0,n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new NotFoundException_1.default},e.parseExtensionString=function(t){if(5!==t.length)return null;var r=e.parseExtension5String(t);return null==r?null:new Map([[ResultMetadataType_1.default.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="Â£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())},e}();exports.default=UPCEANExtension5Support;
//# sourceMappingURL=/sm/cce0d87e6533e8b6f72699ec6517167c9fb03f70b79828f89243adcef3afeecf.map