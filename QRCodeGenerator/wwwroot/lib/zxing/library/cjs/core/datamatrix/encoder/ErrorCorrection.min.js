/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/datamatrix/encoder/ErrorCorrection.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StringBuilder_1=require("../../util/StringBuilder"),constants_1=require("./constants"),ErrorCorrection=function(){function r(){}return r.encodeECC200=function(r,t){if(r.length!==t.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var e=new StringBuilder_1.default;e.append(r);var o=t.getInterleavedBlockCount();if(1===o){var n=this.createECCBlock(r,t.getErrorCodewords());e.append(n)}else{for(var a=[],c=[],s=0;s<o;s++)a[s]=t.getDataLengthForInterleavedBlock(s+1),c[s]=t.getErrorLengthForInterleavedBlock(s+1);for(var i=0;i<o;i++){for(var l=new StringBuilder_1.default,d=i;d<t.getDataCapacity();d+=o)l.append(r.charAt(d));n=this.createECCBlock(l.toString(),c[i]);for(var f=0,u=i;u<c[i]*o;u+=o)e.setCharAt(t.getDataCapacity()+u,n.charAt(f++))}}return e.toString()},r.createECCBlock=function(r,t){for(var e=-1,o=0;o<constants_1.FACTOR_SETS.length;o++)if(constants_1.FACTOR_SETS[o]===t){e=o;break}if(e<0)throw new Error("Illegal number of error correction codewords specified: "+t);var n=constants_1.FACTORS[e],a=[];for(o=0;o<t;o++)a[o]=0;for(o=0;o<r.length;o++){for(var c=a[t-1]^r.charAt(o).charCodeAt(0),s=t-1;s>0;s--)0!==c&&0!==n[s]?a[s]=a[s-1]^constants_1.ALOG[(constants_1.LOG[c]+constants_1.LOG[n[s]])%255]:a[s]=a[s-1];0!==c&&0!==n[0]?a[0]=constants_1.ALOG[(constants_1.LOG[c]+constants_1.LOG[n[0]])%255]:a[0]=0}var i=[];for(o=0;o<t;o++)i[o]=a[t-o-1];return i.map((function(r){return String.fromCharCode(r)})).join("")},r}();exports.default=ErrorCorrection;
//# sourceMappingURL=/sm/c48944bd20581af7a0bb8b0890ec56dfa0559a3da29e335635e15d278f2e9150.map