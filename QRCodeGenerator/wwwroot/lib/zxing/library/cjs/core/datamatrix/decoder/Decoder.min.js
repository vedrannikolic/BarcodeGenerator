/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/datamatrix/decoder/Decoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __values=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&e[r],t=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0});var ChecksumException_1=require("../../ChecksumException"),GenericGF_1=require("../../common/reedsolomon/GenericGF"),ReedSolomonDecoder_1=require("../../common/reedsolomon/ReedSolomonDecoder"),BitMatrixParser_1=require("./BitMatrixParser"),DataBlock_1=require("./DataBlock"),DecodedBitStreamParser_1=require("./DecodedBitStreamParser"),Decoder=function(){function e(){this.rsDecoder=new ReedSolomonDecoder_1.default(GenericGF_1.default.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var r,o,t=new BitMatrixParser_1.default(e),a=t.getVersion(),n=t.readCodewords(),i=DataBlock_1.default.getDataBlocks(n,a),c=0;try{for(var d=__values(i),u=d.next();!u.done;u=d.next()){c+=u.value.getNumDataCodewords()}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}for(var l=new Uint8Array(c),s=i.length,f=0;f<s;f++){var _=i[f],m=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(m,D);for(var h=0;h<D;h++)l[h*s+f]=m[h]}return DecodedBitStreamParser_1.default.decode(l)},e.prototype.correctErrors=function(e,r){var o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch(e){throw new ChecksumException_1.default}for(var t=0;t<r;t++)e[t]=o[t]},e}();exports.default=Decoder;
//# sourceMappingURL=/sm/4dde1086fa0ae7f187e0b94ccff70f79dadb8df8dffa8ec36116265bc8f70d53.map