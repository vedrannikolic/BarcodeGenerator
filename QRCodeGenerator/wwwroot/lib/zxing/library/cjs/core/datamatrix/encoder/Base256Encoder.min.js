/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/datamatrix/encoder/Base256Encoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base256Encoder=void 0;var StringUtils_1=require("../../common/StringUtils"),StringBuilder_1=require("../../util/StringBuilder"),HighLevelEncoder_1=require("./HighLevelEncoder"),constants_1=require("./constants"),Base256Encoder=function(){function e(){}return e.prototype.getEncodingMode=function(){return constants_1.BASE256_ENCODATION},e.prototype.encode=function(e){var t=new StringBuilder_1.default;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();if(t.append(r),e.pos++,HighLevelEncoder_1.default.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(constants_1.ASCII_ENCODATION);break}}var n=t.length()-1,o=e.getCodewordCount()+n+1;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||a)if(n<=249)t.setCharAt(0,StringUtils_1.default.getCharAt(n));else{if(!(n<=1555))throw new Error("Message length not in valid ranges: "+n);t.setCharAt(0,StringUtils_1.default.getCharAt(Math.floor(n/250)+249)),t.insert(1,StringUtils_1.default.getCharAt(n%250))}var i=0;for(r=t.length();i<r;i++)e.writeCodeword(this.randomize255State(t.charAt(i).charCodeAt(0),e.getCodewordCount()+1))},e.prototype.randomize255State=function(e,t){var r=e+(149*t%255+1);return r<=255?r:r-256},e}();exports.Base256Encoder=Base256Encoder;
//# sourceMappingURL=/sm/d306802f673a9944f4f94179649e80cb70d03c14fb57fb76dfbf1e74e2f91622.map