/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/qrcode/encoder/MaskUtil.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=require("../../IllegalArgumentException"),MaskUtil=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var a=0,r=e.getArray(),n=e.getWidth(),i=e.getHeight(),l=0;l<i-1;l++)for(var o=r[l],u=0;u<n-1;u++){var s=o[u];s===o[u+1]&&s===r[l+1][u]&&s===r[l+1][u+1]&&a++}return t.N2*a},t.applyMaskPenaltyRule3=function(e){for(var a=0,r=e.getArray(),n=e.getWidth(),i=e.getHeight(),l=0;l<i;l++)for(var o=0;o<n;o++){var u=r[l];o+6<n&&1===u[o]&&0===u[o+1]&&1===u[o+2]&&1===u[o+3]&&1===u[o+4]&&0===u[o+5]&&1===u[o+6]&&(t.isWhiteHorizontal(u,o-4,o)||t.isWhiteHorizontal(u,o+7,o+11))&&a++,l+6<i&&1===r[l][o]&&0===r[l+1][o]&&1===r[l+2][o]&&1===r[l+3][o]&&1===r[l+4][o]&&0===r[l+5][o]&&1===r[l+6][o]&&(t.isWhiteVertical(r,o,l-4,l)||t.isWhiteVertical(r,o,l+7,l+11))&&a++}return a*t.N3},t.isWhiteHorizontal=function(t,e,a){e=Math.max(e,0),a=Math.min(a,t.length);for(var r=e;r<a;r++)if(1===t[r])return!1;return!0},t.isWhiteVertical=function(t,e,a,r){a=Math.max(a,0),r=Math.min(r,t.length);for(var n=a;n<r;n++)if(1===t[n][e])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var a=0,r=e.getArray(),n=e.getWidth(),i=e.getHeight(),l=0;l<i;l++)for(var o=r[l],u=0;u<n;u++)1===o[u]&&a++;var s=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*a-s)/s)*t.N4},t.getDataMaskBit=function(t,e,a){var r,n;switch(t){case 0:r=a+e&1;break;case 1:r=1&a;break;case 2:r=e%3;break;case 3:r=(a+e)%3;break;case 4:r=Math.floor(a/2)+Math.floor(e/3)&1;break;case 5:r=(1&(n=a*e))+n%3;break;case 6:r=(1&(n=a*e))+n%3&1;break;case 7:r=(n=a*e)%3+(a+e&1)&1;break;default:throw new IllegalArgumentException_1.default("Invalid mask pattern: "+t)}return 0===r},t.applyMaskPenaltyRule1Internal=function(e,a){for(var r=0,n=a?e.getHeight():e.getWidth(),i=a?e.getWidth():e.getHeight(),l=e.getArray(),o=0;o<n;o++){for(var u=0,s=-1,g=0;g<i;g++){var h=a?l[o][g]:l[g][o];h===s?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,s=h)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}();exports.default=MaskUtil;
//# sourceMappingURL=/sm/e3f03314b21a5ff263071c6912512f8d633872638992429a70df504abfb89907.map