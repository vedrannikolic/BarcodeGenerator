/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/cjs/core/pdf417/PDF417Reader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=require("../BarcodeFormat"),ChecksumException_1=require("../ChecksumException"),FormatException_1=require("../FormatException"),NotFoundException_1=require("../NotFoundException"),Result_1=require("../Result"),PDF417Common_1=require("./PDF417Common"),Integer_1=require("../util/Integer"),ResultMetadataType_1=require("../ResultMetadataType"),Detector_1=require("./detector/Detector"),PDF417ScanningDecoder_1=require("./decoder/PDF417ScanningDecoder"),PDF417Reader=function(){function e(){}return e.prototype.decode=function(t,o){void 0===o&&(o=null);var n=e.decode(t,o,!1);if(null==n||0===n.length||null==n[0])throw NotFoundException_1.default.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,o){void 0===o&&(o=null);try{return e.decode(t,o,!0)}catch(e){if(e instanceof FormatException_1.default||e instanceof ChecksumException_1.default)throw NotFoundException_1.default.getNotFoundInstance();throw e}},e.decode=function(t,o,n){var r,a,u=new Array,d=Detector_1.default.detectMultiple(t,o,n);try{for(var i=__values(d.getPoints()),l=i.next();!l.done;l=i.next()){var c=l.value,_=PDF417ScanningDecoder_1.default.decode(d.getBits(),c[4],c[5],c[6],c[7],e.getMinCodewordWidth(c),e.getMaxCodewordWidth(c)),f=new Result_1.default(_.getText(),_.getRawBytes(),void 0,c,BarcodeFormat_1.default.PDF_417);f.putMetadata(ResultMetadataType_1.default.ERROR_CORRECTION_LEVEL,_.getECLevel());var M=_.getOther();null!=M&&f.putMetadata(ResultMetadataType_1.default.PDF417_EXTRA_METADATA,M),u.push(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return u.map((function(e){return e}))},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?Integer_1.default.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}();exports.default=PDF417Reader;
//# sourceMappingURL=/sm/33dd621050163cb066487147876b2637566039c72be26df285811ed299585033.map