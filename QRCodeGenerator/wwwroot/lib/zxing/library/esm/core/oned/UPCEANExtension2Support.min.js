/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/oned/UPCEANExtension2Support.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __values=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};import BarcodeFormat from"../BarcodeFormat";import AbstractUPCEANReader from"./AbstractUPCEANReader";import Result from"../Result";import ResultPoint from"../ResultPoint";import ResultMetadataType from"../ResultMetadataType";import NotFoundException from"../NotFoundException";var UPCEANExtension2Support=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,o){var n=this.decodeRowStringBuffer,i=this.decodeMiddle(r,o,n),a=n.toString(),d=t.parseExtensionString(a),u=[new ResultPoint((o[0]+o[1])/2,e),new ResultPoint(i,e)],l=new Result(a,null,0,u,BarcodeFormat.UPC_EAN_EXTENSION,(new Date).getTime());return null!=d&&l.putAllMetadata(d),l},t.prototype.decodeMiddle=function(t,e,r){var o,n,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),d=e[1],u=0,l=0;l<2&&d<a;l++){var s=AbstractUPCEANReader.decodeDigit(t,i,d,AbstractUPCEANReader.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+s%10);try{for(var c=(o=void 0,__values(i)),f=c.next();!f.done;f=c.next()){d+=f.value}}catch(t){o={error:t}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}s>=10&&(u|=1<<1-l),1!==l&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(2!==r.length)throw new NotFoundException;if(parseInt(r.toString())%4!==u)throw new NotFoundException;return d},t.parseExtensionString=function(t){return 2!==t.length?null:new Map([[ResultMetadataType.ISSUE_NUMBER,parseInt(t)]])},t}();export default UPCEANExtension2Support;
//# sourceMappingURL=/sm/e42379e04bdc33f6f35d073244aa05ecd0c5494e6d03ac13485df2bded8b7835.map