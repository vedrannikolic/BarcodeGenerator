/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/oned/UPCEANExtension5Support.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __values=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};import BarcodeFormat from"../BarcodeFormat";import AbstractUPCEANReader from"./AbstractUPCEANReader";import Result from"../Result";import ResultPoint from"../ResultPoint";import ResultMetadataType from"../ResultMetadataType";import NotFoundException from"../NotFoundException";var UPCEANExtension5Support=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,o),a=o.toString(),u=t.parseExtensionString(a),d=[new ResultPoint((n[0]+n[1])/2,e),new ResultPoint(i,e)],s=new Result(a,null,0,d,BarcodeFormat.UPC_EAN_EXTENSION,(new Date).getTime());return null!=u&&s.putAllMetadata(u),s},t.prototype.decodeMiddle=function(e,r,n){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var u=e.getSize(),d=r[1],s=0,c=0;c<5&&d<u;c++){var l=AbstractUPCEANReader.decodeDigit(e,a,d,AbstractUPCEANReader.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var f=(o=void 0,__values(a)),h=f.next();!h.done;h=f.next()){d+=h.value}}catch(t){o={error:t}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}l>=10&&(s|=1<<4-c),4!==c&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(5!==n.length)throw new NotFoundException;var p=this.determineCheckDigit(s);if(t.extensionChecksum(n.toString())!==p)throw new NotFoundException;return d},t.extensionChecksum=function(t){for(var e=t.length,r=0,n=e-2;n>=0;n-=2)r+=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(n=e-1;n>=0;n-=2)r+=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},t.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new NotFoundException},t.parseExtensionString=function(e){if(5!==e.length)return null;var r=t.parseExtension5String(e);return null==r?null:new Map([[ResultMetadataType.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="Â£";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var r=parseInt(t.substring(1)),n=r%100;return e+(r/100).toString()+"."+(n<10?"0"+n:n.toString())},t}();export default UPCEANExtension5Support;
//# sourceMappingURL=/sm/14ce5c605b7cef0f080b1dd2108520fdafc35d0e83faffd0b23899ba5a635a5e.map