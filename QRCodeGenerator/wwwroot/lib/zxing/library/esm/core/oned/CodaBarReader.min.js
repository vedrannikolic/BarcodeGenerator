/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/oned/CodaBarReader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])},n(t,r)};return function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}();import BarcodeFormat from"../BarcodeFormat";import NotFoundException from"../NotFoundException";import OneDReader from"./OneDReader";import Result from"../Result";import ResultPoint from"../ResultPoint";var CodaBarReader=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return __extends(t,n),t.prototype.decodeRow=function(n,t,r){var e=this.getValidRowData(t);if(!e)throw new NotFoundException;var o=this.codaBarDecodeRow(e.row);if(!o)throw new NotFoundException;return new Result(o,null,0,[new ResultPoint(e.left,n),new ResultPoint(e.right,n)],BarcodeFormat.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(n){var t=n.toArray(),r=t.indexOf(!0);if(-1===r)return null;var e=t.lastIndexOf(!0);if(e<=r)return null;for(var o=[],w=(t=t.slice(r,e+1))[0],i=1,a=1;a<t.length;a++)t[a]===w?i++:(w=t[a],o.push(i),i=1);return o.push(i),o.length<23&&(o.length+1)%8!=0?null:{row:o,left:r,right:e}},t.prototype.codaBarDecodeRow=function(n){for(var t=[],r=Math.ceil(n.reduce((function(n,t){return(n+t)/2}),0));n.length>0;){var e=n.splice(0,8).splice(0,7).map((function(n){return n<r?"n":"w"})).join("");if(void 0===this.CODA_BAR_CHAR_SET[e])return null;t.push(this.CODA_BAR_CHAR_SET[e])}var o=t.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(n){return/^[A-D].{1,}[A-D]$/.test(n)},t}(OneDReader);export default CodaBarReader;
//# sourceMappingURL=/sm/27dcdfe41f29262b329fc6ca30300e6e8712c537c7f14dcb14f8ed9bf61a65ed.map