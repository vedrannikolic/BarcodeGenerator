/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/oned/UPCEReader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])},e(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__values=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};import UPCEANReader from"./UPCEANReader";import StringBuilder from"../util/StringBuilder";import NotFoundException from"../NotFoundException";import BarcodeFormat from"../BarcodeFormat";var UPCEReader=function(e){function r(){var r=e.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return __extends(r,e),r.prototype.decodeMiddle=function(e,t,n){var o,a,i=this.decodeMiddleCounters.map((function(e){return e}));i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var d=e.getSize(),c=t[1],p=0,u=0;u<6&&c<d;u++){var f=r.decodeDigit(e,i,c,r.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var s=(o=void 0,__values(i)),h=s.next();!h.done;h=s.next()){c+=h.value}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}f>=10&&(p|=1<<5-u)}return r.determineNumSysAndCheckDigit(new StringBuilder(n),p),c},r.prototype.decodeEnd=function(e,t){return r.findGuardPatternWithoutCounters(e,t,!0,r.MIDDLE_END_PATTERN)},r.prototype.checkChecksum=function(e){return UPCEANReader.checkChecksum(r.convertUPCEtoUPCA(e))},r.determineNumSysAndCheckDigit=function(e,r){for(var t=0;t<=1;t++)for(var n=0;n<10;n++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[t][n])return e.insert(0,"0"+t),void e.append("0"+n);throw NotFoundException.getNotFoundInstance()},r.prototype.getBarcodeFormat=function(){return BarcodeFormat.UPC_E},r.convertUPCEtoUPCA=function(e){var r=e.slice(1,7).split("").map((function(e){return e.charCodeAt(0)})),t=new StringBuilder;t.append(e.charAt(0));var n=r[5];switch(n){case 0:case 1:case 2:t.appendChars(r,0,2),t.append(n),t.append("0000"),t.appendChars(r,2,3);break;case 3:t.appendChars(r,0,3),t.append("00000"),t.appendChars(r,3,2);break;case 4:t.appendChars(r,0,4),t.append("00000"),t.append(r[4]);break;default:t.appendChars(r,0,5),t.append("0000"),t.append(n)}return e.length>=8&&t.append(e.charAt(7)),t.toString()},r.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),r.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],r}(UPCEANReader);export default UPCEReader;
//# sourceMappingURL=/sm/9610780f87b949110e157f7cac95e83b80ff08a53cf6e10f70ebae5c8545b51b.map