/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/datamatrix/encoder/Base256Encoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import StringUtils from"../../common/StringUtils";import StringBuilder from"../../util/StringBuilder";import HighLevelEncoder from"./HighLevelEncoder";import{BASE256_ENCODATION,ASCII_ENCODATION}from"./constants";var Base256Encoder=function(){function t(){}return t.prototype.getEncodingMode=function(){return BASE256_ENCODATION},t.prototype.encode=function(t){var e=new StringBuilder;for(e.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();if(e.append(r),t.pos++,HighLevelEncoder.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(ASCII_ENCODATION);break}}var o=e.length()-1,n=t.getCodewordCount()+o+1;t.updateSymbolInfo(n);var i=t.getSymbolInfo().getDataCapacity()-n>0;if(t.hasMoreCharacters()||i)if(o<=249)e.setCharAt(0,StringUtils.getCharAt(o));else{if(!(o<=1555))throw new Error("Message length not in valid ranges: "+o);e.setCharAt(0,StringUtils.getCharAt(Math.floor(o/250)+249)),e.insert(1,StringUtils.getCharAt(o%250))}var a=0;for(r=e.length();a<r;a++)t.writeCodeword(this.randomize255State(e.charAt(a).charCodeAt(0),t.getCodewordCount()+1))},t.prototype.randomize255State=function(t,e){var r=t+(149*e%255+1);return r<=255?r:r-256},t}();export{Base256Encoder};
//# sourceMappingURL=/sm/06c10e5f9e06928eed138f29ce356cafe119952aedd3162424972c572bc92538.map