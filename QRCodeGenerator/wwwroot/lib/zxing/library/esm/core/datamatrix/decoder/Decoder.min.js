/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/datamatrix/decoder/Decoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __values=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&e[r],t=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};import ChecksumException from"../../ChecksumException";import GenericGF from"../../common/reedsolomon/GenericGF";import ReedSolomonDecoder from"../../common/reedsolomon/ReedSolomonDecoder";import BitMatrixParser from"./BitMatrixParser";import DataBlock from"./DataBlock";import DecodedBitStreamParser from"./DecodedBitStreamParser";var Decoder=function(){function e(){this.rsDecoder=new ReedSolomonDecoder(GenericGF.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var r,o,t=new BitMatrixParser(e),n=t.getVersion(),a=t.readCodewords(),i=DataBlock.getDataBlocks(a,n),c=0;try{for(var d=__values(i),m=d.next();!m.done;m=d.next()){c+=m.value.getNumDataCodewords()}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}for(var l=new Uint8Array(c),s=i.length,f=0;f<s;f++){var u=i[f],D=u.getCodewords(),h=u.getNumDataCodewords();this.correctErrors(D,h);for(var p=0;p<h;p++)l[p*s+f]=D[p]}return DecodedBitStreamParser.decode(l)},e.prototype.correctErrors=function(e,r){var o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch(e){throw new ChecksumException}for(var t=0;t<r;t++)e[t]=o[t]},e}();export default Decoder;
//# sourceMappingURL=/sm/1bfc145ca0c54f16c8fe0fcc1b852985a46d6219ae8bfd6d7bc9d26800632aa5.map