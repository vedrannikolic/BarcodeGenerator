/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/common/StringUtils.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import DecodeHintType from"../DecodeHintType";import CharacterSetECI from"./CharacterSetECI";import StringEncoding from"../util/StringEncoding";var StringUtils=function(){function t(){}return t.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var r=e?e.getName():this.ISO88591;return StringEncoding.decode(new Uint8Array([t]),r)},t.guessEncoding=function(e,r){if(null!=r&&void 0!==r.get(DecodeHintType.CHARACTER_SET))return r.get(DecodeHintType.CHARACTER_SET).toString();for(var n=e.length,o=!0,a=!0,i=!0,c=0,S=0,s=0,g=0,I=0,d=0,f=0,u=0,C=0,E=0,T=0,p=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],F=0;F<n&&(o||a||i);F++){var l=255&e[F];i&&(c>0?0==(128&l)?i=!1:c--:0!=(128&l)&&(0==(64&l)?i=!1:(c++,0==(32&l)?S++:(c++,0==(16&l)?s++:(c++,0==(8&l)?g++:i=!1))))),o&&(l>127&&l<160?o=!1:l>159&&(l<192||215===l||247===l)&&T++),a&&(I>0?l<64||127===l||l>252?a=!1:I--:128===l||160===l||l>239?a=!1:l>160&&l<224?(d++,u=0,++f>C&&(C=f)):l>127?(I++,f=0,++u>E&&(E=u)):(f=0,u=0))}return i&&c>0&&(i=!1),a&&I>0&&(a=!1),i&&(p||S+s+g>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||C>=3||E>=3)?t.SHIFT_JIS:o&&a?2===C&&2===d||10*T>=n?t.SHIFT_JIS:t.ISO88591:o?t.ISO88591:a?t.SHIFT_JIS:i?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,r,o,a,i,c){if("%%"===t)return"%";if(void 0!==e[++n]){t=a?parseInt(a.substr(1)):void 0;var S,s=i?parseInt(i.substr(1)):void 0;switch(c){case"s":S=e[n];break;case"c":S=e[n][0];break;case"f":S=parseFloat(e[n]).toFixed(t);break;case"p":S=parseFloat(e[n]).toPrecision(t);break;case"e":S=parseFloat(e[n]).toExponential(t);break;case"x":S=parseInt(e[n]).toString(s||16);break;case"d":S=parseFloat(parseInt(e[n],s||10).toPrecision(t)).toFixed(0)}S="object"==typeof S?JSON.stringify(S):(+S).toString(s);for(var g=parseInt(o),I=o&&o[0]+""=="0"?"0":" ";S.length<g;)S=void 0!==r?S+I:I+S;return S}}))},t.getBytes=function(t,e){return StringEncoding.encode(t,e)},t.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},t.getCharAt=function(t){return String.fromCharCode(t)},t.SHIFT_JIS=CharacterSetECI.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=CharacterSetECI.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=CharacterSetECI.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}();export default StringUtils;
//# sourceMappingURL=/sm/e3bb0fd4d8a363adb8af745a8fdcc68cf4dd990e01a2746404c8be85ff6fd268.map