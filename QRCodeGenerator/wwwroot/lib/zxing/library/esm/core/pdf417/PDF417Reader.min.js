/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@zxing/library@0.21.0/esm/core/pdf417/PDF417Reader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __values=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};import BarcodeFormat from"../BarcodeFormat";import ChecksumException from"../ChecksumException";import FormatException from"../FormatException";import NotFoundException from"../NotFoundException";import Result from"../Result";import PDF417Common from"./PDF417Common";import Integer from"../util/Integer";import ResultMetadataType from"../ResultMetadataType";import Detector from"./detector/Detector";import PDF417ScanningDecoder from"./decoder/PDF417ScanningDecoder";var PDF417Reader=function(){function t(){}return t.prototype.decode=function(e,o){void 0===o&&(o=null);var n=t.decode(e,o,!1);if(null==n||0===n.length||null==n[0])throw NotFoundException.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,o){void 0===o&&(o=null);try{return t.decode(e,o,!0)}catch(t){if(t instanceof FormatException||t instanceof ChecksumException)throw NotFoundException.getNotFoundInstance();throw t}},t.decode=function(e,o,n){var r,i,a=new Array,d=Detector.detectMultiple(e,o,n);try{for(var u=__values(d.getPoints()),c=u.next();!c.done;c=u.next()){var m=c.value,l=PDF417ScanningDecoder.decode(d.getBits(),m[4],m[5],m[6],m[7],t.getMinCodewordWidth(m),t.getMaxCodewordWidth(m)),M=new Result(l.getText(),l.getRawBytes(),void 0,m,BarcodeFormat.PDF_417);M.putMetadata(ResultMetadataType.ERROR_CORRECTION_LEVEL,l.getECLevel());var h=l.getOther();null!=h&&M.putMetadata(ResultMetadataType.PDF417_EXTRA_METADATA,h),a.push(M)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a.map((function(t){return t}))},t.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMinWidth=function(t,e){return null==t||null==e?Integer.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}();export default PDF417Reader;
//# sourceMappingURL=/sm/e7884f4ef8a4baae7134b0b9c9eb9fc3bda51fb854741a83a13045351ecd38ab.map